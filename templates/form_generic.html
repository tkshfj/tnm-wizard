<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>{{ config.display_name }} TNM ウィザード</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <h1>{{ config.display_name }} TNM ウィザード</h1>

  <form method="post" action="/{{ config.organ }}/generate">
    {% for section in config.sections %}
      <fieldset>
        <legend>{{ section.title }}</legend>
        {% for field in section.fields %}
          <div class="field">
            <label>{{ field.label }}</label><br>
            {% if field.type == "radio" %}
              {% for opt in field.options %}
                <label>
                  <input type="radio"
                         name="{{ field.name }}"
                         value="{{ opt.code }}"
                         required>
                  {{ opt.label }}
                </label>
              {% endfor %}
            {% elif field.type == "select" %}
              <select name="{{ field.name }}">
                {% for opt in field.options %}
                  <option value="{{ opt.code }}">{{ opt.label }}</option>
                {% endfor %}
              </select>
            {% elif field.type == "number" %}
              <input type="number" step="0.1" name="{{ field.name }}">
            {% else %}
              <input type="text" name="{{ field.name }}">
            {% endif %}
          </div>
        {% endfor %}
      </fieldset>
    {% endfor %}

    <button type="submit">診断文を生成</button>
  </form>

  <p><a href="/">戻る</a></p>
</body>
</html>
